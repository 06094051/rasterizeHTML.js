<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>html2canvas example</title>
    <script type="text/javascript" src="html2canvas.js"></script>
</head>
<body>
    <canvas id="canvas" style="border:2px solid black;" width="100" height="100"></canvas>
    <div>
        <textarea id="input" cols="60">You can type HTML into this &lt;span style='color: green'&gt;canvas&lt;/span&gt;. &lt;img src='ghostscript_tiger.png' alt='Tiger'/&gt;</textarea>
    </div>
    <script type="text/javascript">
        var input = document.getElementById("input");

        function drawCanvas(text) {
            var doc, svg, canvas;

            doc = document.implementation.createHTMLDocument("");
            doc.body.innerHTML = '<span style="font-size: 16px;">' + text + '</span>';

            HTML2Canvas.loadAndInlineImages(doc, function () {
                canvas = document.getElementById("canvas");

                svg = HTML2Canvas.getSvgForDocument(doc);
                HTML2Canvas.drawSvgToCanvas(svg, canvas);
            });
        }

        input.onkeyup = function () {
            var canvas = document.getElementById("canvas");

            canvas.getContext("2d").clearRect(0, 0, 100, 100);

            drawCanvas(this.value);
        };

        drawCanvas(input.value);
    </script>
</body>
</html>
